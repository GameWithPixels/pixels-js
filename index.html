<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Documentation</title><meta name="description" content="Documentation for Documentation"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"><a href="https://github.com/GameWithPixels/pixels-js">GitHub</a><a href="https://gamewithpixels.com/">Pixels Website</a></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Documentation</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>Documentation</h2></div><div class="tsd-panel tsd-typography"><a id="md:pixels-js" class="tsd-anchor"></a><h1><a href="#md:pixels-js">pixels-js</a></h1><p>Monorepo for Pixels Typescript/JavaScript libraries and apps.</p>
<p>This repository regroups all the TypeScript/JavaScript source code
for our web and React Native packages.</p>
<a id="md:foreword" class="tsd-anchor"></a><h2><a href="#md:foreword">Foreword</a></h2><p>Pixels are full of LEDs, smarts and no larger than regular dice, they can be
customized to light up when and how you desire.
Check our <a href="https://gamewithpixels.com/">website</a> for more information.</p>
<blockquote>
<p><strong>Warning</strong>
Before jumping into programming please make sure to read our Pixels developer&#39;s
<a href="https://github.com/GameWithPixels/.github/blob/main/doc/DevelopersGuide.md">guide</a>.</p>
</blockquote>
<p>Please open a <a href="https://github.com/GameWithPixels/pixels-js/issues">ticket</a> on GitHub if you&#39;re having any issue.</p>
<a id="md:documentation" class="tsd-anchor"></a><h2><a href="#md:documentation">Documentation</a></h2><p>The packages documentation is generated from the source code with
<a href="https://typedoc.org/">TypeDoc</a>.
The latest version of the packages modules documentation is published <a href="https://gamewithpixels.github.io/pixels-js/index.html">here</a>.</p>
<p>Each package is documented as a separate module, see the list below to get the links
to the main package&#39;s documentation.</p>
<a id="md:packages" class="tsd-anchor"></a><h2><a href="#md:packages">Packages</a></h2><p>Here is a short list of the packages that we think will be the most useful for a developer
looking to develop a software that connects to Pixels dice:</p>
<ul>
<li>Pixels in a browser: <a href="packages/pixels-web-connect"><em>@systemic-games/pixels-web-connect</em></a> - <a href="https://www.npmjs.com/package/@systemic-games/pixels-web-connect">NPM link</a> - <a href="https://gamewithpixels.github.io/pixels-js/modules/_systemic_games_pixels_web_connect.html">doc link</a></li>
<li>React hooks for Pixels: <a href="packages/pixels-react"><em>@systemic-games/pixels-react</em></a> - <a href="https://www.npmjs.com/package/@systemic-games/pixels-react">NPM link</a> - <a href="https://gamewithpixels.github.io/pixels-js/modules/_systemic_games_pixels_react.html">doc link</a></li>
<li>Pixels Animations &amp; Profiles manipulation: <a href="packages/pixels-edit-animation"><em>@systemic-games/pixels-edit-animation</em></a> - <a href="https://www.npmjs.com/package/@systemic-games/pixels-edit-animation">NPM link</a> - <a href="https://gamewithpixels.github.io/pixels-js/modules/_systemic_games_pixels_edit_animation.html">doc link</a></li>
<li>Pixels on React Native package: <a href="packages/react-native-pixels-connect"><em>@systemic-games/react-native-pixels-connect</em></a> - <a href="https://www.npmjs.com/package/@systemic-games/react-native-pixels-connect">NPM link</a> - <a href="https://gamewithpixels.github.io/pixels-js/modules/_systemic_games_react_native_pixels_connect.html">doc link</a></li>
</ul>
<p>For a complete list of available packages, head to the <a href="packages/">packages</a> folder.</p>
<p>The rest of this readme will get you started on how to build the Pixels
packages and apps.
You probably don&#39;t need to read this unless your intention is to work on
those packages or apps.</p>
<a id="md:development-workflow" class="tsd-anchor"></a><h2><a href="#md:development-workflow">Development workflow</a></h2><p>To get started with the project, run <code>yarn</code> in the root directory to install
the required dependencies and build each package:</p>
<pre><code class="language-sh"><span class="hl-0">yarn</span>
</code><button>Copy</button></pre>
<p><em>Note:</em> This is equivalent to running <code>yarn install &amp;&amp; yarn pk:all</code>.
It&#39;s the later command that builds all the packages.</p>
<a id="md:eas-builds" class="tsd-anchor"></a><h3><a href="#md:eas-builds">EAS Builds</a></h3><a id="md:development-builds" class="tsd-anchor"></a><h4><a href="#md:development-builds">Development Builds</a></h4><p>To make a development build using Expo <a href="https://docs.expo.dev/eas/">EAS</a> for iOS:</p>
<pre><code class="language-sh"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">px:eas-ios</span><span class="hl-1"> </span><span class="hl-3">--development</span>
</code><button>Copy</button></pre>
<p>Or for Android:</p>
<pre><code class="language-sh"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">px:eas-android</span><span class="hl-1"> </span><span class="hl-3">--development</span>
</code><button>Copy</button></pre>
<p>Or both at once:</p>
<pre><code class="language-sh"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">px:eas-all</span><span class="hl-1"> </span><span class="hl-3">--development</span>
</code><button>Copy</button></pre>
<p><em>Notes:</em></p>
<ul>
<li>For other build profiles, replace <code>development</code> by the required profile
name such as <code>preview</code>.</li>
<li>For the Toolbox, replace <code>px</code> by <code>tb</code>.</li>
</ul>
<a id="md:preview-builds" class="tsd-anchor"></a><h4><a href="#md:preview-builds">Preview Builds</a></h4><p>At the moment &quot;preview&quot; builds are also referred as &quot;production&quot; builds.</p>
<p>There are two options to publish a production update:</p>
<a id="md:full-builds" class="tsd-anchor"></a><h5><a href="#md:full-builds">Full Builds</a></h5><p>It there was any change made to the native code then a full update must be
published.</p>
<pre><code class="language-sh"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">px:eas-all</span><span class="hl-1"> </span><span class="hl-3">--preview</span>
</code><button>Copy</button></pre>
<p><em>Notes:</em></p>
<ul>
<li>Add the <code>--local</code> switch to build locally (not supported on Windows).</li>
</ul>
<a id="md:content-updates" class="tsd-anchor"></a><h5><a href="#md:content-updates">Content Updates</a></h5><p>EAS comes with a great update system that allow publishing incremental
updates to the application scripts and assets:</p>
<pre><code class="language-sh"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">px:eas-update</span><span class="hl-1"> </span><span class="hl-2">&quot;A few words to describe the contents of the update&quot;</span>
</code><button>Copy</button></pre>
<p>The update will be available for both iOS and Android preview builds.</p>
<a id="md:install-a-build" class="tsd-anchor"></a><h3><a href="#md:install-a-build">Install A Build</a></h3><p>To install a build on an Android emulator:</p>
<pre><code class="language-sh"><span class="hl-0">adb</span><span class="hl-1"> </span><span class="hl-3">-e</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">app.apk</span>
</code><button>Copy</button></pre>
<p>Use the <code>-d</code> flag to install on a physical device instead.</p>
<p>See the Expo <a href="https://docs.expo.dev/build-reference/simulators/">documentation</a> to learn how to configure and install a build for iOS simulators using EAS.</p>
<a id="md:running-a-dev-build" class="tsd-anchor"></a><h3><a href="#md:running-a-dev-build">Running A Dev Build</a></h3><p>Developers have two options when working on the Pixels app or the Toolbox:</p>
<ul>
<li>Build and install a development version of the &quot;public&quot; production app.</li>
<li>Build and install a development version of the &quot;alternate&quot; app  which has
a different package name (or bundle identifier on iOS) so that it can be
installed alongside a build of the &quot;public&quot; app.</li>
</ul>
<p>By default the Metro bundler will target the &quot;public&quot; app.
It will switch to the alternate package name (or bundle identifier) when the
environment variable <code>SYSTEMIC_PX_DEV</code> is set to 1</p>
<p>For the Toolbox the environment variable <code>SYSTEMIC_TB_DEV</code> is used.</p>
<p>To start a development server that connects to a development build of the
&quot;public&quot; app:</p>
<pre><code class="language-sh"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">px</span><span class="hl-1"> </span><span class="hl-2">start</span>
</code><button>Copy</button></pre>
<p>And to connect to a development build of the &quot;alternate&quot; app:</p>
<pre><code class="language-sh"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">pxd</span><span class="hl-1"> </span><span class="hl-2">start</span>
</code><button>Copy</button></pre>
<a id="md:building-locally" class="tsd-anchor"></a><h4><a href="#md:building-locally">Building Locally</a></h4><p>This command builds the Android &quot;public&quot; app locally (without EAS), deploys it and
then connects to it:</p>
<pre><code class="language-sh"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">px</span><span class="hl-1"> </span><span class="hl-2">android</span>
</code><button>Copy</button></pre>
<p>And for the &quot;alternate&quot; app:</p>
<pre><code class="language-sh"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">px</span><span class="hl-1"> </span><span class="hl-2">android</span>
</code><button>Copy</button></pre>
<p>On iOS you need to first generate the project files for XCode:</p>
<pre><code class="language-sh"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">px</span><span class="hl-1"> </span><span class="hl-2">prebuild</span>
</code><button>Copy</button></pre>
<p>And for the &quot;alternate&quot; app:</p>
<pre><code class="language-sh"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">pxd</span><span class="hl-1"> </span><span class="hl-2">prebuild</span>
</code><button>Copy</button></pre>
<p>And then build and run the project from XCode.</p>
<p>For the &quot;alternate&quot; app, be sure to run XCode with the dev environment variable set:</p>
<pre><code class="language-sh"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">px:setdev</span>
</code><button>Copy</button></pre>
<p>On the next run you may skip rebuilding the app and directly start the development server
using the &quot;start&quot; command described previously.</p>
<p><em>Note:</em> For the Toolbox, replace <code>px</code> by <code>tb</code>.</p>
<a id="md:toolbox-updating-the-firmware-packages" class="tsd-anchor"></a><h3><a href="#md:toolbox-updating-the-firmware-packages">Toolbox: Updating The Firmware Packages</a></h3><p>Here are the steps to update the DFU files that are being used by the validation screen 
and which are also selected by default in other screens):</p>
<ol>
<li>Build a new Bootloader + <a href="https://github.com/GameWithPixels/DiceFirmware/">Firmware</a>
combo using the <code>publish</code> command.</li>
<li>Replace the Bootloader and Firmware DFU files in <code>apps\pixels-toolbox\assets\dfu\factory-dfu-files.zip</code>.<blockquote>
<p>/!\ Be sure to only have one file for the Bootloader and one for the Firmware in this zip file!</p>
</blockquote>
</li>
<li>Update the version number in <code>app.config.ts</code></li>
<li>Run either <code>tb:eas-update &quot;Description&quot;</code> or <code>tb:eas-android preview</code> command.</li>
</ol>
<p><strong>Note</strong>: Bootloader and Firmware DFU files not meant for production should be placed into
<code>apps\pixels-toolbox\assets\dfu\other-dfu-files.zip</code>.</p>
<a id="md:type-checking-and-linting" class="tsd-anchor"></a><h2><a href="#md:type-checking-and-linting">Type checking and linting</a></h2><pre><code class="language-sh"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">ts</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">lint</span>
</code><button>Copy</button></pre>
<p>For automatically fixing problems with ESLint:</p>
<pre><code class="language-sh"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">lint:fix</span>
</code><button>Copy</button></pre>
<a id="md:commit-message-convention" class="tsd-anchor"></a><h3><a href="#md:commit-message-convention">Commit message convention</a></h3><p>We follow the <a href="https://www.conventionalcommits.org/en">conventional commits specification</a> for our commit messages:</p>
<ul>
<li><code>fix</code>: bug fixes, e.g. fix crash due to deprecated method.</li>
<li><code>feat</code>: new features, e.g. add new method to the module.</li>
<li><code>refactor</code>: code refactor, e.g. migrate from class components to hooks.</li>
<li><code>docs</code>: changes into documentation, e.g. add usage example for the module..</li>
<li><code>test</code>: adding or updating tests, e.g. add integration tests using detox.</li>
<li><code>chore</code>: tooling changes, e.g. change CI config.</li>
</ul>
<p>Our pre-commit hooks verify that your commit message matches this format when committing.</p>
<a id="md:acknowledgements" class="tsd-anchor"></a><h2><a href="#md:acknowledgements">Acknowledgements</a></h2><p>Documentation generated with <a href="https://typedoc.org/">TypeDoc</a>.</p>
<p>Applications icon files generated with <a href="https://easyappicon.com/">EasyAppIcons</a>.</p>
<p>TypeScript packages generated with <a href="https://github.com/tomchen/example-typescript-package">example-typescript-package</a>.</p>
<p>React Native packages generated with <a href="https://github.com/callstack/react-native-builder-bob">create-react-native-library</a>.</p>
<a id="md:license" class="tsd-anchor"></a><h2><a href="#md:license">License</a></h2><p>MIT</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:pixels-js"><span>pixels-<wbr/>js</span></a><ul><li><a href="#md:foreword"><span>Foreword</span></a></li><li><a href="#md:documentation"><span>Documentation</span></a></li><li><a href="#md:packages"><span>Packages</span></a></li><li><a href="#md:development-workflow"><span>Development workflow</span></a></li><li><ul><li><a href="#md:eas-builds"><span>EAS <wbr/>Builds</span></a></li><li><ul><li><a href="#md:development-builds"><span>Development <wbr/>Builds</span></a></li><li><a href="#md:preview-builds"><span>Preview <wbr/>Builds</span></a></li><li><ul><li><a href="#md:full-builds"><span>Full <wbr/>Builds</span></a></li><li><a href="#md:content-updates"><span>Content <wbr/>Updates</span></a></li></ul></li></ul></li><li><a href="#md:install-a-build"><span>Install <wbr/>A <wbr/>Build</span></a></li><li><a href="#md:running-a-dev-build"><span>Running <wbr/>A <wbr/>Dev <wbr/>Build</span></a></li><li><ul><li><a href="#md:building-locally"><span>Building <wbr/>Locally</span></a></li></ul></li><li><a href="#md:toolbox-updating-the-firmware-packages"><span>Toolbox: <wbr/>Updating <wbr/>The <wbr/>Firmware <wbr/>Packages</span></a></li></ul></li><li><a href="#md:type-checking-and-linting"><span>Type checking and linting</span></a></li><li><ul><li><a href="#md:commit-message-convention"><span>Commit message convention</span></a></li></ul></li><li><a href="#md:acknowledgements"><span>Acknowledgements</span></a></li><li><a href="#md:license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>Documentation</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>